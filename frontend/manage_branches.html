{% extends "base.html" %}

{% block page_title %}Manage Branches{% endblock %}

{% block content %}

<div class="page">

    <!-- Success Message -->
    {% if success %}
    <div class="alert-success">
        <span class="alert-icon">‚úì</span>
        <span>{{ success }}</span>
    </div>
    {% endif %}

    <!-- Header -->
    <div class="page-header">
        <div>
            <h1>Branches</h1>
            <p>Manage and organize your business locations</p>
        </div>
    </div>

    <!-- Add Branch Card -->
    <div class="panel">
        <div class="panel-head">
            <h3>Add New Branch</h3>
            <p>Create a new business location</p>
        </div>

        <form method="post" action="/inventory/create_branch" class="form-grid">
            <div class="input-group">
                <label>Branch Name</label>
                <input type="text" name="name" placeholder="e.g. Westlands" required>
            </div>

            <div class="input-group">
                <label>Location</label>
                <input type="text" name="location" placeholder="Optional">
            </div>

            <div class="form-action">
                <button type="submit" class="btn-primary">
                    Add Branch
                </button>
            </div>
        </form>
    </div>

    <!-- Branch List -->
    <div class="panel">
        <div class="panel-head">
            <h3>Existing Branches</h3>
            <p>Total branches: {{ branches|length }}</p>
        </div>

        {% if branches %}
        <div class="table-wrap">
            <table class="table-modern">
                <thead>
                    <tr>
                        <th>Branch</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    {% for branch in branches %}
                    <tr>
                        <td class="strong">{{ branch.name }}</td>
                        <td class="muted">
                            {{ branch.location if branch.location else "‚Äî" }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="empty">
            <div class="empty-icon">üè¢</div>
            <div>
                <div class="empty-title">No branches yet</div>
                <div class="empty-sub">Add your first branch to get started.</div>
            </div>
        </div>
        {% endif %}
    </div>

</div>


<style>

/* Page Layout */
.page{
    display:flex;
    flex-direction:column;
    gap:20px;
}

/* Header */
.page-header h1{
    margin:0;
    font-size:22px;
    font-weight:700;
    letter-spacing:-0.02em;
}

.page-header p{
    margin:6px 0 0;
    color:var(--muted);
    font-size:13px;
}

/* Success Alert */
.alert-success{
    display:flex;
    align-items:center;
    gap:10px;
    background:rgba(16,185,129,0.10);
    color:#047857;
    padding:12px 16px;
    border-radius:14px;
    border:1px solid rgba(16,185,129,0.25);
    font-size:13px;
}

.alert-icon{
    font-weight:900;
}

/* Panel */
.panel{
    background:#fff;
    border-radius:18px;
    border:1px solid rgba(0,0,0,0.06);
    overflow:hidden;
}

.panel-head{
    padding:18px 18px 12px;
    border-bottom:1px solid rgba(0,0,0,0.06);
}

.panel-head h3{
    margin:0;
    font-size:15px;
    font-weight:700;
}

.panel-head p{
    margin:6px 0 0;
    font-size:12px;
    color:var(--muted);
}

/* Form */
.form-grid{
    display:grid;
    grid-template-columns: 1fr 1fr auto;
    gap:14px;
    padding:18px;
    align-items:end;
}

.input-group{
    display:flex;
    flex-direction:column;
    gap:6px;
}

.input-group label{
    font-size:12px;
    font-weight:600;
    color:#334155;
}

.input-group input{
    padding:10px 12px;
    border-radius:12px;
    border:1px solid rgba(0,0,0,0.08);
    font-size:13px;
    outline:none;
    transition: border .15s ease, box-shadow .15s ease;
}

.input-group input:focus{
    border-color:#635bff;
    box-shadow:0 0 0 3px rgba(99,91,255,0.15);
}

/* Button */
.btn-primary{
    padding:10px 18px;
    background:#635bff;
    color:white;
    border:none;
    border-radius:12px;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    transition: background .15s ease, transform .1s ease;
}

.btn-primary:hover{
    background:#5848e5;
    transform:translateY(-1px);
}

/* Table */
.table-wrap{
    overflow:auto;
}

.table-modern{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
}

.table-modern thead th{
    text-align:left;
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:.08em;
    padding:14px 18px;
    background:#f8fafc;
    border-bottom:1px solid rgba(0,0,0,0.06);
    color:#475569;
}

.table-modern tbody td{
    padding:14px 18px;
    border-bottom:1px solid rgba(0,0,0,0.05);
    font-size:13px;
}

.table-modern tbody tr:hover{
    background:rgba(99,91,255,0.05);
}

.strong{
    font-weight:600;
}

.muted{
    color:var(--muted);
}

/* Empty State */
.empty{
    padding:24px;
    display:flex;
    align-items:center;
    gap:14px;
}

.empty-icon{
    font-size:26px;
    background:rgba(99,91,255,0.10);
    padding:14px;
    border-radius:14px;
}

.empty-title{
    font-weight:700;
    margin-bottom:4px;
}

.empty-sub{
    font-size:12px;
    color:var(--muted);
}

/* Responsive */
@media(max-width:900px){
    .form-grid{
        grid-template-columns: 1fr;
    }
}

</style>

{% endblock %}